--- 
title: "Manual para la Identificación de los hotspots del dengue en áreas urbanas de México" 
author: "Felipe Antonio Dzul Manzanilla"
date: "2021: Last compiled `r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
biblio-style: apalike
link-citations: yes
github-repo: fdzul/manual_hotspots
cover-image: "images/cover.jpg"
apple-touch-icon: "touch-icon.png"
apple-touch-icon-size: 120
favicon: "favicon.ico"
description: "El manual describe la Identificación de los hotspots en R"
---

# **<span style="color:#003300;">Prologo</span>**{-}

<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 

# **<span style="color:#003300;">Justificación</span>**{-}

<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 

El programa de prevención y control del dengue en México se enfrenta a grandes desafíos que incluyen:

 - Expanción geográfica del dengue.
 - Incremento de la transmisión en zonas endémicas y no endémicas.
 - Presencia de brotes en zonas urbanas que contituyen grandes metropolis (Guadalajara, Monterrey, La comarca Lagunera, etc).
 - Potencial introducción de nuevos agentes causales, como la Fiebre Amarilla y Mayaro.


El desarrollo de un modelo estratégico de focalización de las acciones antivectoriales en las áreas urbanas endémicas de México y su implementación, constituye un elemento clave para redirigir los límitados recursos materiales, humanos y económicos a las áreas de los grandes centros urbanos donde la transmisión se concentra (basados en datos históricos) y donde las cadenas de transmisión son activas (datos actuales). Teóricamente, de acuerdo a la ley de Pareto 80/20, si el 80% de la transmisión se concentra en el 20% del área urbana, la focalización de las acciones en el 20% del área, permitiría obtener reducciones del 80% de la carga de la enfermedad. 

# **<span style="color:#003300;">Software & Convenciones</span>** {-}

<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 

Con el advenimiento de la era del internet, la exponencial la capacidad de las computadoras (software and hardware) y la creciente la disponibilidad software libre para el análisis espacial, ha permitido que más investigadores tengan acceso a las herramientas analíticas. En el top ten para el análisis de datos espaciales, se observan a [QGIS](http://www.qgis.org/es/site/ ), **[R](https://cran.r-project.org/)**, [Python](https://www.python.org/), [GeoDa](https://spatial.uchicago.edu/software), [SaTScan](https://www.satscan.org/) y [GRASS](https://grass.osgeo.org/). Actualmente, existe una tendencia a usar R o Python para el análisis espacial. Entre las principales limitantes de ambos lenguajes de programación es que la curva de aprendizaje es lenta y tortuosa. No obstante, lo anterior, cada día más personas están usando ambos lenguajes para el análisis espacial. 

En el presente manual se usará **[R](https://cran.r-project.org/)** y **[RStudio](https://www.rstudio.com/)** para el cálculo de los hotspots. El manual asume que los usuarios tienen experiencia en el uso de R, RStudio y que cuentan con su clave API del servicio de geocodificacion de google ([Geocoding API de google](https://developers.google.com/maps/documentation/geocoding/overview)). **[R](https://cran.r-project.org/)** es un programa de computadora estadístico que proporciona un ambiente rico y variado para la visualización y análisis de datos (espaciales y no espaciales). **[R](https://cran.r-project.org/)** se baja gratis del website de Comprensive R Archive Network en https://cran.r-project.org/ y es distribuido con una licencia pública general (GBU). Lo ideal es usar la consola de **[R](https://cran.r-project.org/)**, pero es ampliamente recomendado utilizar un ambiente de desarrollo integrado (IDE, integrated development enviroment) para interactuar con **[R](https://cran.r-project.org/)**, como **[RStudio](https://www.rstudio.com/)**. **[RStudio](https://www.rstudio.com/)** se baja gratis en la página de RStudio https://rstudio.com/products/rstudio/.


Los análisis hotspots con el estadístico espacial local Getis&Ord ($G_{i}^{*}$) tanto para los datos históricos de los casos y del vector (ovitrampas), así como **Space-Time análisis** con **[SaTScan](https://www.satscan.org/)** y **[ClusterSeer](https://www.biomedware.com/software/clusterseer/)** son implementados en **[R](https://cran.r-project.org/)** y se desarrollaron los siguientes paquetes para facilitar su implementación en los servicios de salud de México.

* **[denhotspots](https://github.com/fdzul/denhotspots)**
* **[deneggs](https://github.com/fdzul/deneggs)**
* **[rgeomex](https://github.com/fdzul/rgeomex)**
* **[dendata](https://github.com/fdzul/dendata)**

Los paquetes se instalan en la consola de **[R](https://cran.r-project.org/)** o **[RStudio](https://www.rstudio.com/)** en tecleando lo siguiente:

```{r, warning=FALSE, error=FALSE, message=FALSE}
#devtools::install_github("fdzul/denhotspots")
#devtools::install_github("fdzul/deneggs")
#devtools::install_github("fdzul/rgeomex")
#devtools::install_github("fdzul/dendata")
```
ó
```{r,warning=FALSE, error=FALSE, message=FALSE}
#remotes::install_github("fdzul/denhotspots")
#remotes::install_github("fdzul/deneggs")
#remotes::install_github("fdzul/rgeomex")
#remotes::install_github("fdzul/dendata")
```

Por convención en el texto los paquetes se proporcionaran en negrita y azul marino (ejemplo **[denhotspots](https://github.com/fdzul/denhotspots)**). Las funciones puedes referirse individualmente (**[extract_ageb]()**) o a través de su paquete (***[rgeomex::extract_ageb]()***) en cursiva y color azul marino. En el caso de ***[denhotspots::gihi]()***, **[denhotspots]()** es el paquete y ***[gihi]()*** es la función. En los códigos las funciones de los paquetes **[denhotspots](https://github.com/fdzul/denhotspots)**,**[deneggs](https://github.com/fdzul/deneggs)**, **[rgeomex](https://github.com/fdzul/rgeomex)** y **[dendata](https://github.com/fdzul/dendata)** usaran este metodo de applicar la función atravez de ***:*** debido a que evita conflictos con otros paquetes que tienen funciones con el mismo nombre pero que realizan diferente función.

Como el documento incluye texto y código, el código estara cirscunscrito en un recuadro con fondo <span style="color:#567482">gris</span> como  acontinuación se presenta. El símbolo **#** indica un comentario del código, no tiene efecto en R y como resultado no se correrá la pieza del código. 

```{r,warning=FALSE, error=FALSE, message=FALSE}
#devtools::install_github("fdzul/denhotspots")
```

En el código (recuadro gris) a las funciones se les asignará un color **<span style="color:#06287e">azul</span>**, a los paquetes un color **<span style="color:#567482">gris</span>**, a los **argumentos** de la funciones se les asignará un color **<span style="color:#7d9029">verde</span>** y a los **valores** de los argumentos se les asignará un color **<span style="color:#06287e">azul</span>**.

```{r, warning=FALSE, error=FALSE, message=FALSE}
library(sf)
library(magrittr)
gua <- rgeomex::extract_ageb(locality = c("Zapopan", "Tonalá",
                                          "Tlaquepaque", "Guadalajara"),
                             cve_geo = "14")
```

```{r, warning=FALSE, error=FALSE, message=FALSE}
plot(sf::st_geometry(gua$locality))
```

# **<span style="color:#003300;">Estructura de Manual</span>**{-}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 

# **<span style="color:#003300;">Agradecimientos</span>**{-}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 

Los autores agradecen a 

# **<span style="color:#003300;">Autores</span>**{-}

## **<span style="color:#003300;">Felipe Antonio Dzul Manzanilla</span>**{-}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 


## **<span style="color:#003300;">Fabián Correa Morales</span>**{-}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 


Fabián Correa Morales es Licenciado en Biologia por la Universidad Autonoma de México.

## **<span style="color:#003300;">Arturo Baez Hernández </span>**{-}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019"> 


Fabián Correa Morales es Licenciado en Biologia por la Universidad Autonoma de México.
